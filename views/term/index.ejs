<!DOCTYPE html>
<html dir="rtl">
<head>
    <title></title>
    <link rel='stylesheet' href='/stylesheets/style.css'/>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
<ul id="app">
    <% for(let group of menu){ %>
    <li>
        <div>
            <h1><%= group.title %></h1>
            <ul>
                <% for(let question of group.questions){ %>
                <li>
                    <label><%= question.title %></label>
                    <input type="text" v-model="message[<%=menu.indexOf(group)%>][<%=group.questions.indexOf(question)%>]">
                </li>
                <% } %>

            </ul>
            <button v-on:click="add(<%=menu.indexOf(group)%>)">Save</button>
        </div>
    </li>
    <% } %>
</ul>
<script>
    var app = new Vue({
        el: '#app',
        data: {
            message:[
                <%for(let g of menu){%>
                    [],
                <%}%>
            ],
            items:[1,2,3,4,5,6,7]
        },
        methods: {
            add: function (groupIndex) {
                console.log(this.message[groupIndex]);
            }
        }
    })
</script>
</body>
</html>
